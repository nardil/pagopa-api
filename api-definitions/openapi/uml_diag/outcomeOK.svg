<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="361px" preserveAspectRatio="none" style="width:548px;height:361px;" version="1.1" viewBox="0 0 548 361" width="548px" zoomAndPan="magnify"><defs><filter height="300%" id="fetam5f4e3v9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="207" x="168" y="29.4023">Send Payment Outcome</text><rect fill="#FFFFFF" filter="url(#fetam5f4e3v9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="43" y="256.5508"/><rect fill="#FFFFFF" filter="url(#fetam5f4e3v9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="268" y="106.998"/><rect fill="#FFFFFF" filter="url(#fetam5f4e3v9)" height="149.5527" style="stroke:#000000;stroke-width:2.0;" width="512" x="10" y="151.3086"/><rect fill="#FFFFFF" filter="url(#fetam5f4e3v9)" height="75.9316" style="stroke:#000000;stroke-width:2.0;" width="298.5" x="20" y="217.9297"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="75.6875" y2="317.8613"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="272.5" x2="272.5" y1="75.6875" y2="317.8613"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="517" x2="517" y1="75.6875" y2="317.8613"/><rect fill="#FEFECE" filter="url(#fetam5f4e3v9)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="32" x="30" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="37" y="60.7344">EC</text><rect fill="#FEFECE" filter="url(#fetam5f4e3v9)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="32" x="30" y="316.8613"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="18" x="37" y="337.3965">EC</text><rect fill="#FEFECE" filter="url(#fetam5f4e3v9)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="67" x="237.5" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="244.5" y="60.7344">pagoPA</text><rect fill="#FEFECE" filter="url(#fetam5f4e3v9)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="67" x="237.5" y="316.8613"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="53" x="244.5" y="337.3965">pagoPA</text><rect fill="#FEFECE" filter="url(#fetam5f4e3v9)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="38" x="496" y="40.1992"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="503" y="60.7344">PSP</text><rect fill="#FEFECE" filter="url(#fetam5f4e3v9)" height="30.4883" style="stroke:#A80036;stroke-width:1.5;" width="38" x="496" y="316.8613"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="24" x="503" y="337.3965">PSP</text><rect fill="#FFFFFF" filter="url(#fetam5f4e3v9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="43" y="256.5508"/><rect fill="#FFFFFF" filter="url(#fetam5f4e3v9)" height="29.3105" style="stroke:#A80036;stroke-width:1.0;" width="10" x="268" y="106.998"/><polygon fill="#A80036" points="289,102.998,279,106.998,289,110.998,285,106.998" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="283" x2="516" y1="106.998" y2="106.998"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="172" x="295" y="102.2559">sendPaymentOutcome req (</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="467" y="102.2559">token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="503" y="102.2559">)</text><polygon fill="#A80036" points="505,132.3086,515,136.3086,505,140.3086,509,136.3086" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="273" x2="511" y1="136.3086" y2="136.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="163" x="280" y="131.5664">sendPaymentOutcome res</text><path d="M10,151.3086 L77,151.3086 L77,158.3086 L67,168.3086 L10,168.3086 L10,151.3086 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="149.5527" style="stroke:#000000;stroke-width:2.0;" width="512" x="10" y="151.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="25" y="164.877">opt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="92" y="163.9434">[Only in case of outcome +]</text><line style="stroke:#A80036;stroke-width:1.0;" x1="273" x2="315" y1="189.9297" y2="189.9297"/><line style="stroke:#A80036;stroke-width:1.0;" x1="315" x2="315" y1="189.9297" y2="202.9297"/><line style="stroke:#A80036;stroke-width:1.0;" x1="274" x2="315" y1="202.9297" y2="202.9297"/><polygon fill="#A80036" points="284,198.9297,274,202.9297,284,206.9297,280,202.9297" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="190" x="280" y="185.1875">receipt generation (idReceipt=</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="470" y="185.1875">token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="506" y="185.1875">)</text><path d="M20,217.9297 L94,217.9297 L94,224.9297 L84,234.9297 L20,234.9297 L20,217.9297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="75.9316" style="stroke:#000000;stroke-width:2.0;" width="298.5" x="20" y="217.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="29" x="35" y="231.498">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="158" x="109" y="230.5645">[for each EC in transfer list]</text><polygon fill="#A80036" points="64,252.5508,54,256.5508,64,260.5508,60,256.5508" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="58" x2="272" y1="256.5508" y2="256.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="161" x="70" y="251.8086">paSendRT req (idReceipt=</text><text fill="#0000FF" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="36" x="231" y="251.8086">token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="4" x="267" y="251.8086">)</text><polygon fill="#A80036" points="261,281.8613,271,285.8613,261,289.8613,265,285.8613" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="48" x2="267" y1="285.8613" y2="285.8613"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="55" y="281.1191">paSendRT res</text><!--MD5=[86799990b583732a23b1fdbc688dae4f]
@startuml uml_diag/outcomeOK
title Send Payment Outcome
participant EC
participant pagoPA
participant PSP
PSP -> pagoPA: sendPaymentOutcome req (<color blue>token</color>)
activate pagoPA
pagoPA -> PSP: sendPaymentOutcome res
deactivate pagoPA
opt Only in case of outcome + 
    pagoPA -> pagoPA: receipt generation (idReceipt=<color blue>token</color>)
    loop for each EC in transfer list
        pagoPA -> EC: paSendRT req (idReceipt=<color blue>token</color>)
        activate EC
        EC -> pagoPA: paSendRT res
        deactivate EC
    end 
end

@enduml

PlantUML version 1.2020.26(Mon Dec 21 18:45:07 CET 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: GB
--></g></svg>